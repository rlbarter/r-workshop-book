{"title":"Data Frames","markdown":{"yaml":{"title":"Data Frames","format":"html","editor_options":{"chunk_output_type":"console"}},"headingText":"three vectors containing info on each person's name, age, and favorite color","containsRefs":false,"markdown":"\n\n\n\n\nLet's imagine that you have an actual dataset containing a collection of columns (\"variables\" in data terminology) and rows (\"observations\" in data terminology). For example, maybe your dataset is:\n\n\n|Name|Age|Favorite Color|\n|:----|:----|:----|\n|Dean | 12 | Blue |\n|Xiao | 18 | Green |\n|Sara | 22 | Red |\n|Ravi | 21 | Purple |\n|Maya | 17 | Blue |\n\nIn this case, your dataset has three *\"variables\"* (name, age, and favorite color), and five *\"observations\"* for each of these variables (corresponding to the values for 5 unique people). You might even recognize this data from the previous chapter: the values in the \"Age\" column are the values from our `age` vector and the names correspond to the names that we gave our age vector, along with some extra \"Favorite Color\" information.\n\nWhile we could define a separate vector variable in R for each column in our data, such as\n\n```{r}\nname_vec <- c(\"Dean\", \"Xiao\", \"Sara\", \"Ravi\", \"Maya\")\nage_vec <- c(12, 18, 22, 21, 17)\ncolor_vec <- c(\"blue\", 'green', 'red', 'purple', 'blue')\n```\n\nOnce we started analyzing this data, it would quickly become hard to keep track of which age corresponded to which name, and what their corresponding favorite color is since the variables are each stored in three separate objects. For example, if I look at the `color_vec` vector by typing its name:\n\n```{r}\ncolor_vec\n```\n\nIt isn't clear whose color preference is whose.\n\nIt would be much nicer if we could create a *single* object containing all three of these variables such that the corresponding values are \"aligned\" in such a way that it is very clear that \"Ravi\" has age 21 and favorite color \"purple\".\n\nFortunately, the creators of R share our desires, so they let us store each of our vectors in an object called a \"**data frame**\". \n\nIf I already have the columns of my data stored as separate vectors, I can create a data frame using the `data.frame()` function as follows:\n\n```{r}\nmy_data <- data.frame(name = name_vec,\n                      age = age_vec, \n                      color = color_vec)\n```\n\nWhere the name to the left of the `=` symbol in my `data.frame()` arguments defines the corresponding \"column name\" in my data frame.\n\nSince `my_data` is an R object, I can view it by typing its name:\n\n```{r}\nmy_data\n```\n\nNow our three variables are neatly arranged in rows and columns, where there is one row for each person and one column for each variable *and* this is all stored in a single variable/object called `my_data`. \n\nThe integer numbers 1, 2, 3, 4, and 5 shown along the left-hand side of the rows are not actually a part of the data object itself (notice that there is no \"column name\" printed above these integers). These numbers are just visual aids provided by the R console when you print a data frame object to make it a little bit easier to count the rows in the data.\n\n\nIf I ask R what kind of object `my_data` is, it tells me it's a \"data.frame\". \n\n```{r}\nclass(my_data)\n```\n\nAnd I can get a quick summary of what my data frame contains using the `str` function:\n\n```{r}\nstr(my_data)\n```\n\nIn particular, the things that I find helpful in this summary are the number of \"obs.\" (5) and \"variables\" (3), and the type/class of each variable shown after its name, which tells me that the `name` and `color` columns have a \"chr\" (character) type, and the `age` variable has a \"num\" (numeric) type. \n\nEach column in a data frame can have a different type, but *each entry within a single column must be the same type* (because each column corresponds to a vector).\n\nThere are several techniques for extracting the vectors stored in a data frame. For instance, if I wanted to extract the `age` column, or specifically, the vector corresponding to the `age` column, I can write:\n\n\n```{r}\nmy_data$age\n```\n\nor \n\n```{r}\nmy_data['age']\n```\n\nThese two approaches both extracted the `age` column, but notice that the output of these two column extraction techniques look a little different. \n\nCan you guess why? Hint: What type/class do you think each output object has? Look at its formatting. Learning to recognize what type each object has based on the way it looks is a really helpful skill. \n\nThe output of `my_data$age` *looks* is an ordinary vector. I can tell because the values are arranged horizontally, and there is a `[1]` at the beginning of the output. But this isn't the case for the output of `my_data['age']`. The output here looks more like our data frame output (but with only one column).\n\nIndeed, if I ask R to tell me the class of each of these two objects that I have extracted, I learn that the `my_data$age` object has a \"numeric\" type (remember that a vector containing numeric values will have a \"numeric\" type!)\n\n```{r}\nclass(my_data$age)\n```\n\nAnd I learn that the `my_data['age']` object has a \"data.frame\" type:\n\n```{r}\nclass(my_data['age'])\n```\n\nSince data frames and vectors have different behaviors, there will be some scenarios where you prefer your extracted column to be a vector, and others where you will prefer your extracted column to be a single-column data frame.\n\nWhile I occasionally want to extract columns from my data as a vector using one of these techniques, I typically conduct my data analyses and modifications on the data frame object itself. You'll encounter some sophisticated techniques for working with data frames in the next chapter. But first, I want to show you how to load a dataset that you have saved on your computer into a data frame in R.\n\n\n## Loading data from external files\n\n\nTo create the `my_data` data frame object above, I first created the individual vectors, which I then used to define the columns of my data frame within the `data.frame()` function. Imagine if your data had hundreds of observations/values for each of hundreds of variables. No one wants to manually type their data into R. \n\nMore often than not, the data you want to analyze will already live in a file on your computer, such as a .csv file or an Excel spreadsheet. In this section, I will show you how to \"load\" data from such files into an R data frame.\n\n\n\n\n### Loading data from .csv data files\n\n.csv files are one of the *simplest* data formats. \"csv\" stands for \"comma separated value\". In a .csv file:\n\n- Columns are separated by commas\n\n- New rows are created by starting a new line\n\nThe .csv version of our data above looks like this:\n\n```{verbatim}\nname, age, color\nDean, 12, blue\nXiao, 18, green\nSara,  22, red\nRavi, 21, purple\nMaya, 17, blue\n```\n\n\nTo load in a dataset (as a data frame) from a .csv file, we can use the `read.csv()` function. However, for R to be able to find your file you need to provide a \"filepath\" argument (as a character/text value) to your csv file.\n\nThe file path corresponds to the location where your file lives on your computer relative to where the current R file you are working in is saved. Ideally, you are working in a quarto document. If so, identify where on your computer you have saved your quarto document. If your csv data file lives in the same folder as your quarto document, then you will write \n\n```{r}\n#| eval: false\ndata <- read.csv(\"filename.csv\")\n```\n\nwhere you replace `\"filename.csv\"` with the actual file name of your .csv file. \n\nIf your .csv data file lives in a `data/` subfolder, then you will write \n\n```{r}\n#| eval: false\ndata <- read.csv(\"data/filename.csv\")\n```\n\nWhen you compile a quarto document (which will involve sequentially running all of the code in the code chunks), R automatically searches for any referenced files in the folder where the quarto document is saved.\n\nHowever, if you run the code in the console, R might not automatically know to look for files in the same folder as your quarto document. To ensure R can locate your files, your console's working directory needs to match the folder containing your quarto document. The **working directory** is the folder where your R console looks for files to load (and where it saves any files you create).\n\nAll file paths in code that is run in the console are relative to your console's current working directory, regardless of where your quarto document is saved.\n\nIf you open RStudio by directly opening a quarto document or an R script, the working directory is typically set to the folder containing that file. However, if you open your IDE without opening a specific file, the working directory is likely set to your computer's home folder.\n\nIf the console's working directory doesn’t match the folder where your quarto document or R script is saved (the location of the code you're running), R won’t be able to find your data files.\n\n::: {.callout-tip}\n## Identifying the console's current working directory\n\nYou can see your console's current working directory by looking at the top of the console. In the image below, the working directory is the \"Documents\" folder. If you just see `~`, then your console's current working directory is your computer's home folder.\n\n```{r}\n#| echo: false\nknitr::include_graphics(\"figures/working_directory.png\")\n```\n\n:::\n\n:::{.callout-tip}\n## Changing your console's working directory\n\nIt is recommended that your working directory matches the location of the quarto document you are working in. \n\nYou can update your console's working directory to be the location of your current quarto document in RStudio by choosing \"Session > Set Working Directory > To Source File Location\". \n:::\n\n\nLet's load an actual .csv file. If you are working in a quarto document or an R script on your computer, take note of where you saved it. Then [download the following \"data\" folder containing the \"gapminder\" dataset](https://github.com/rlbarter/r-book/raw/refs/heads/main/data/data.zip) and move the data folder to the same location as your current quarto document.\n\nIf you are working in a quarto document called \"analysis.qmd\" then your folder should have the following structure, in which the \"data\" folder lives in the same place as \"analysis.qmd\":\n\n```{r}\n#| echo: false\n#| out.width: 250\n#| fig.align: \"center\"\nknitr::include_graphics(\"figures/data_folder.png\")\n```\n\n\n\nThen, assuming that your console's working directory matches the location of your quarto document on your computer, you should be able to run the code below to load in the gapminder.csv data file and save it as a data frame object called `gapminder`:\n\n```{r}\ngapminder <- read.csv(file = \"data/gapminder.csv\")\n```\n\nIf you get an error that says `\"Warning message: In file(file, \"rt\") : cannot open file 'data/gapminder.csv': No such file or directory\"`, this means that either you did not move the \"data\" folder containing \"gapminder.csv\" in the right place, or your console's working directory is incorrect!\n\nHopefully you figured out how to tell R to find and load your dataset! If your code above worked, you should then be able to take a look at the `gapminder` object by typing its name:\n\n```{r}\n#| attr-output: 'style=\"height: 400px\"'\ngapminder\n```\n\nThis prints out A LOT of data (I've contained the output in a nice scrolly box, but if you did this in a standard quarto document or in your console, the entire thing will be printed out, sans scrolly box). In general, you want to avoid printing your entire dataset in your R console or rendered quarto document. \n\nInstead, try printing just the first few (6, to be exact) rows using the `head()` function:\n\n```{r}\nhead(gapminder)\n```\n\nNow that we are starting to get a handle on our gapminder data frame, let's talk about the information it contains. The gapminder dataset contains information on life expectancy, population, and GDP per capita for 142 countries every 5 years between 1952 to 2007. Each country has 12 rows in the data, one for each year.\n\nIf you want to learn more about the gapminder dataset, head on over to the [gapminder website](https://www.gapminder.org/).\n\n\n## Attributes of a data frame\n\nOften I find it helpful to print out just the column names of a data frame using the `colnames()` function:\n\n```{r}\ncolnames(gapminder)\n```\n\nWe can also ask things like how many rows our data frame has using the `nrow()` function:\n\n```{r}\nnrow(gapminder)\n```\n\n\nWe can ask how many columns our data frame has using the `ncol()` function:\n\n```{r}\nncol(gapminder)\n```\n\nOr we can ask both how many rows and how many columns our data frame has at the same time using the `dim()` function:\n\n```{r}\ndim(gapminder)\n```\n\n\n\nWe can use our trusty `str()` function from earlier to take a sneak peek at the \"structure\" of our data:\n\n```{r}\nstr(gapminder)\n```\n\nAnd we can use the `summary()` function to get some statistical summaries (like the minimum, median, mean, maximum, and the quartiles) of each of the numeric columns in our data frame (this summary is fairly useless for character/categorical columns though):\n\n```{r}\n# use summary() to look at a summary of gapminder\nsummary(gapminder)\n```\n\n\n\n:::: {.panel-tabset}\n\n## Exercise\n\nYour turn: [download the following world happiness dataset](https://github.com/rlbarter/r-book/raw/refs/heads/main/data/whr.zip). Load the `whr_2023.csv` file into R, saving it as a variable called `world_happiness`. \n\nThen print out the first 6 rows, the column names, create a summary of the data, and report its dimension.\n\n\n## Solution\n\nLoading the data\n\n```{r}\nworld_happiness <- read.csv(\"data/whr_2023.csv\")\n```\n\nPrinting the first 6 rows:\n```{r}\nhead(world_happiness)\n```\n\nAnd looking at several features of the data:\n\n```{r}\nstr(world_happiness)\nsummary(world_happiness)\n```\n\n\n```{r}\ndim(world_happiness)\n```\n\n::::\n\n\n\n## Loading data from Excel, SPSS, Stata, and SAS files \n\nLoading data from Excel, SPSS, Stata, and files is almost as easy as loading data from .csv files, except that you will need to install some add-on packages to do so. Specifically, to load Excel files, you will need to install the \"readxl\" package, and to load SPSS, Stata, or SAS files, you'll need to install the \"haven\" package.\n\nYou'll learn about installing and loading packages in the next chapter. [Click here](https://readxl.tidyverse.org/) to learn more about loading data from Excel files and [click here](https://haven.tidyverse.org/) to learn more about loading data from SPSS, Stata, and SAS files.","srcMarkdownNoYaml":"\n\n\n\n\nLet's imagine that you have an actual dataset containing a collection of columns (\"variables\" in data terminology) and rows (\"observations\" in data terminology). For example, maybe your dataset is:\n\n\n|Name|Age|Favorite Color|\n|:----|:----|:----|\n|Dean | 12 | Blue |\n|Xiao | 18 | Green |\n|Sara | 22 | Red |\n|Ravi | 21 | Purple |\n|Maya | 17 | Blue |\n\nIn this case, your dataset has three *\"variables\"* (name, age, and favorite color), and five *\"observations\"* for each of these variables (corresponding to the values for 5 unique people). You might even recognize this data from the previous chapter: the values in the \"Age\" column are the values from our `age` vector and the names correspond to the names that we gave our age vector, along with some extra \"Favorite Color\" information.\n\nWhile we could define a separate vector variable in R for each column in our data, such as\n\n```{r}\n# three vectors containing info on each person's name, age, and favorite color\nname_vec <- c(\"Dean\", \"Xiao\", \"Sara\", \"Ravi\", \"Maya\")\nage_vec <- c(12, 18, 22, 21, 17)\ncolor_vec <- c(\"blue\", 'green', 'red', 'purple', 'blue')\n```\n\nOnce we started analyzing this data, it would quickly become hard to keep track of which age corresponded to which name, and what their corresponding favorite color is since the variables are each stored in three separate objects. For example, if I look at the `color_vec` vector by typing its name:\n\n```{r}\ncolor_vec\n```\n\nIt isn't clear whose color preference is whose.\n\nIt would be much nicer if we could create a *single* object containing all three of these variables such that the corresponding values are \"aligned\" in such a way that it is very clear that \"Ravi\" has age 21 and favorite color \"purple\".\n\nFortunately, the creators of R share our desires, so they let us store each of our vectors in an object called a \"**data frame**\". \n\nIf I already have the columns of my data stored as separate vectors, I can create a data frame using the `data.frame()` function as follows:\n\n```{r}\nmy_data <- data.frame(name = name_vec,\n                      age = age_vec, \n                      color = color_vec)\n```\n\nWhere the name to the left of the `=` symbol in my `data.frame()` arguments defines the corresponding \"column name\" in my data frame.\n\nSince `my_data` is an R object, I can view it by typing its name:\n\n```{r}\nmy_data\n```\n\nNow our three variables are neatly arranged in rows and columns, where there is one row for each person and one column for each variable *and* this is all stored in a single variable/object called `my_data`. \n\nThe integer numbers 1, 2, 3, 4, and 5 shown along the left-hand side of the rows are not actually a part of the data object itself (notice that there is no \"column name\" printed above these integers). These numbers are just visual aids provided by the R console when you print a data frame object to make it a little bit easier to count the rows in the data.\n\n\nIf I ask R what kind of object `my_data` is, it tells me it's a \"data.frame\". \n\n```{r}\nclass(my_data)\n```\n\nAnd I can get a quick summary of what my data frame contains using the `str` function:\n\n```{r}\nstr(my_data)\n```\n\nIn particular, the things that I find helpful in this summary are the number of \"obs.\" (5) and \"variables\" (3), and the type/class of each variable shown after its name, which tells me that the `name` and `color` columns have a \"chr\" (character) type, and the `age` variable has a \"num\" (numeric) type. \n\nEach column in a data frame can have a different type, but *each entry within a single column must be the same type* (because each column corresponds to a vector).\n\nThere are several techniques for extracting the vectors stored in a data frame. For instance, if I wanted to extract the `age` column, or specifically, the vector corresponding to the `age` column, I can write:\n\n\n```{r}\nmy_data$age\n```\n\nor \n\n```{r}\nmy_data['age']\n```\n\nThese two approaches both extracted the `age` column, but notice that the output of these two column extraction techniques look a little different. \n\nCan you guess why? Hint: What type/class do you think each output object has? Look at its formatting. Learning to recognize what type each object has based on the way it looks is a really helpful skill. \n\nThe output of `my_data$age` *looks* is an ordinary vector. I can tell because the values are arranged horizontally, and there is a `[1]` at the beginning of the output. But this isn't the case for the output of `my_data['age']`. The output here looks more like our data frame output (but with only one column).\n\nIndeed, if I ask R to tell me the class of each of these two objects that I have extracted, I learn that the `my_data$age` object has a \"numeric\" type (remember that a vector containing numeric values will have a \"numeric\" type!)\n\n```{r}\nclass(my_data$age)\n```\n\nAnd I learn that the `my_data['age']` object has a \"data.frame\" type:\n\n```{r}\nclass(my_data['age'])\n```\n\nSince data frames and vectors have different behaviors, there will be some scenarios where you prefer your extracted column to be a vector, and others where you will prefer your extracted column to be a single-column data frame.\n\nWhile I occasionally want to extract columns from my data as a vector using one of these techniques, I typically conduct my data analyses and modifications on the data frame object itself. You'll encounter some sophisticated techniques for working with data frames in the next chapter. But first, I want to show you how to load a dataset that you have saved on your computer into a data frame in R.\n\n\n## Loading data from external files\n\n\nTo create the `my_data` data frame object above, I first created the individual vectors, which I then used to define the columns of my data frame within the `data.frame()` function. Imagine if your data had hundreds of observations/values for each of hundreds of variables. No one wants to manually type their data into R. \n\nMore often than not, the data you want to analyze will already live in a file on your computer, such as a .csv file or an Excel spreadsheet. In this section, I will show you how to \"load\" data from such files into an R data frame.\n\n\n\n\n### Loading data from .csv data files\n\n.csv files are one of the *simplest* data formats. \"csv\" stands for \"comma separated value\". In a .csv file:\n\n- Columns are separated by commas\n\n- New rows are created by starting a new line\n\nThe .csv version of our data above looks like this:\n\n```{verbatim}\nname, age, color\nDean, 12, blue\nXiao, 18, green\nSara,  22, red\nRavi, 21, purple\nMaya, 17, blue\n```\n\n\nTo load in a dataset (as a data frame) from a .csv file, we can use the `read.csv()` function. However, for R to be able to find your file you need to provide a \"filepath\" argument (as a character/text value) to your csv file.\n\nThe file path corresponds to the location where your file lives on your computer relative to where the current R file you are working in is saved. Ideally, you are working in a quarto document. If so, identify where on your computer you have saved your quarto document. If your csv data file lives in the same folder as your quarto document, then you will write \n\n```{r}\n#| eval: false\ndata <- read.csv(\"filename.csv\")\n```\n\nwhere you replace `\"filename.csv\"` with the actual file name of your .csv file. \n\nIf your .csv data file lives in a `data/` subfolder, then you will write \n\n```{r}\n#| eval: false\ndata <- read.csv(\"data/filename.csv\")\n```\n\nWhen you compile a quarto document (which will involve sequentially running all of the code in the code chunks), R automatically searches for any referenced files in the folder where the quarto document is saved.\n\nHowever, if you run the code in the console, R might not automatically know to look for files in the same folder as your quarto document. To ensure R can locate your files, your console's working directory needs to match the folder containing your quarto document. The **working directory** is the folder where your R console looks for files to load (and where it saves any files you create).\n\nAll file paths in code that is run in the console are relative to your console's current working directory, regardless of where your quarto document is saved.\n\nIf you open RStudio by directly opening a quarto document or an R script, the working directory is typically set to the folder containing that file. However, if you open your IDE without opening a specific file, the working directory is likely set to your computer's home folder.\n\nIf the console's working directory doesn’t match the folder where your quarto document or R script is saved (the location of the code you're running), R won’t be able to find your data files.\n\n::: {.callout-tip}\n## Identifying the console's current working directory\n\nYou can see your console's current working directory by looking at the top of the console. In the image below, the working directory is the \"Documents\" folder. If you just see `~`, then your console's current working directory is your computer's home folder.\n\n```{r}\n#| echo: false\nknitr::include_graphics(\"figures/working_directory.png\")\n```\n\n:::\n\n:::{.callout-tip}\n## Changing your console's working directory\n\nIt is recommended that your working directory matches the location of the quarto document you are working in. \n\nYou can update your console's working directory to be the location of your current quarto document in RStudio by choosing \"Session > Set Working Directory > To Source File Location\". \n:::\n\n\nLet's load an actual .csv file. If you are working in a quarto document or an R script on your computer, take note of where you saved it. Then [download the following \"data\" folder containing the \"gapminder\" dataset](https://github.com/rlbarter/r-book/raw/refs/heads/main/data/data.zip) and move the data folder to the same location as your current quarto document.\n\nIf you are working in a quarto document called \"analysis.qmd\" then your folder should have the following structure, in which the \"data\" folder lives in the same place as \"analysis.qmd\":\n\n```{r}\n#| echo: false\n#| out.width: 250\n#| fig.align: \"center\"\nknitr::include_graphics(\"figures/data_folder.png\")\n```\n\n\n\nThen, assuming that your console's working directory matches the location of your quarto document on your computer, you should be able to run the code below to load in the gapminder.csv data file and save it as a data frame object called `gapminder`:\n\n```{r}\ngapminder <- read.csv(file = \"data/gapminder.csv\")\n```\n\nIf you get an error that says `\"Warning message: In file(file, \"rt\") : cannot open file 'data/gapminder.csv': No such file or directory\"`, this means that either you did not move the \"data\" folder containing \"gapminder.csv\" in the right place, or your console's working directory is incorrect!\n\nHopefully you figured out how to tell R to find and load your dataset! If your code above worked, you should then be able to take a look at the `gapminder` object by typing its name:\n\n```{r}\n#| attr-output: 'style=\"height: 400px\"'\ngapminder\n```\n\nThis prints out A LOT of data (I've contained the output in a nice scrolly box, but if you did this in a standard quarto document or in your console, the entire thing will be printed out, sans scrolly box). In general, you want to avoid printing your entire dataset in your R console or rendered quarto document. \n\nInstead, try printing just the first few (6, to be exact) rows using the `head()` function:\n\n```{r}\nhead(gapminder)\n```\n\nNow that we are starting to get a handle on our gapminder data frame, let's talk about the information it contains. The gapminder dataset contains information on life expectancy, population, and GDP per capita for 142 countries every 5 years between 1952 to 2007. Each country has 12 rows in the data, one for each year.\n\nIf you want to learn more about the gapminder dataset, head on over to the [gapminder website](https://www.gapminder.org/).\n\n\n## Attributes of a data frame\n\nOften I find it helpful to print out just the column names of a data frame using the `colnames()` function:\n\n```{r}\ncolnames(gapminder)\n```\n\nWe can also ask things like how many rows our data frame has using the `nrow()` function:\n\n```{r}\nnrow(gapminder)\n```\n\n\nWe can ask how many columns our data frame has using the `ncol()` function:\n\n```{r}\nncol(gapminder)\n```\n\nOr we can ask both how many rows and how many columns our data frame has at the same time using the `dim()` function:\n\n```{r}\ndim(gapminder)\n```\n\n\n\nWe can use our trusty `str()` function from earlier to take a sneak peek at the \"structure\" of our data:\n\n```{r}\nstr(gapminder)\n```\n\nAnd we can use the `summary()` function to get some statistical summaries (like the minimum, median, mean, maximum, and the quartiles) of each of the numeric columns in our data frame (this summary is fairly useless for character/categorical columns though):\n\n```{r}\n# use summary() to look at a summary of gapminder\nsummary(gapminder)\n```\n\n\n\n:::: {.panel-tabset}\n\n## Exercise\n\nYour turn: [download the following world happiness dataset](https://github.com/rlbarter/r-book/raw/refs/heads/main/data/whr.zip). Load the `whr_2023.csv` file into R, saving it as a variable called `world_happiness`. \n\nThen print out the first 6 rows, the column names, create a summary of the data, and report its dimension.\n\n\n## Solution\n\nLoading the data\n\n```{r}\nworld_happiness <- read.csv(\"data/whr_2023.csv\")\n```\n\nPrinting the first 6 rows:\n```{r}\nhead(world_happiness)\n```\n\nAnd looking at several features of the data:\n\n```{r}\nstr(world_happiness)\nsummary(world_happiness)\n```\n\n\n```{r}\ndim(world_happiness)\n```\n\n::::\n\n\n\n## Loading data from Excel, SPSS, Stata, and SAS files \n\nLoading data from Excel, SPSS, Stata, and files is almost as easy as loading data from .csv files, except that you will need to install some add-on packages to do so. Specifically, to load Excel files, you will need to install the \"readxl\" package, and to load SPSS, Stata, or SAS files, you'll need to install the \"haven\" package.\n\nYou'll learn about installing and loading packages in the next chapter. [Click here](https://readxl.tidyverse.org/) to learn more about loading data from Excel files and [click here](https://haven.tidyverse.org/) to learn more about loading data from SPSS, Stata, and SAS files."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"04_data_frames.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.56","theme":"yeti","title":"Data Frames","editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"04_data_frames.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"block-headings":true,"documentclass":"scrreprt","title":"Data Frames","editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}